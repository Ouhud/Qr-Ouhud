{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set t_title = 'âœ… Social QR created' %}
  {% set t_h1 = 'âœ… QR code created' %}
  {% set t_sub = 'Scan the code to open your social profile.' %}
  {% set t_preview = 'ğŸŒ Open preview' %}
  {% set t_download = 'â¬‡ï¸ Download' %}
{% elif lang == 'ar' %}
  {% set t_title = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Social QR' %}
  {% set t_h1 = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² QR' %}
  {% set t_sub = 'Ø§Ù…Ø³Ø­ Ø§Ù„Ø±Ù…Ø² Ù„ÙØªØ­ Ù…Ù„ÙÙƒ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ.' %}
  {% set t_preview = 'ğŸŒ ÙØªØ­ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©' %}
  {% set t_download = 'â¬‡ï¸ ØªÙ†Ø²ÙŠÙ„' %}
{% else %}
  {% set t_title = 'âœ… Social QR erstellt' %}
  {% set t_h1 = 'âœ… QR-Code erstellt' %}
  {% set t_sub = 'Scanne den Code, um dein Social-Profil zu Ã¶ffnen.' %}
  {% set t_preview = 'ğŸŒ Vorschau Ã¶ffnen' %}
  {% set t_download = 'â¬‡ï¸ Herunterladen' %}
{% endif %}
{% block title %}{{ t_title }}{% endblock %}

{% block content %}
<section class="qr-result">
  <h1>{{ t_h1 }}</h1>
  <p class="subtitle">{{ t_sub }}</p>

  <div class="qr-preview-box">
    <img src="data:image/png;base64,{{ qr_image }}" alt="QR preview" class="qr-preview">
    <p><strong>{{ name }}</strong></p>
    <a href="{{ dynamic_url }}" target="_blank" class="btn-link">{{ t_preview }}</a>
    <a href="data:image/png;base64,{{ qr_image }}" download="social_qr.png" class="btn-link">{{ t_download }}</a>
  </div>
</section>

<style>
.qr-result {
  max-width:700px;margin:3rem auto;text-align:center;background:#fff;
  padding:2rem;border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,0.08);
}
.qr-preview{max-width:260px;border-radius:12px;}
.btn-link {
  display:inline-block;
  background:linear-gradient(135deg,#0D2A78,#1E40AF);
  color:white;text-decoration:none;padding:0.8rem 1.2rem;
  border-radius:10px;margin:0.4rem;font-weight:600;
}
</style>
{% endblock %}
