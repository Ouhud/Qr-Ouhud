{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set t_title = 'âœ… SMS QR code result' %}
  {% set t_h1 = 'âœ… SMS QR code created!' %}
  {% set t_sub = 'Scan this code to send an SMS directly.' %}
  {% set t_rec = 'Recipient:' %}
  {% set t_msg = 'Message:' %}
  {% set t_open = 'ğŸ“± Open SMS' %}
{% elif lang == 'ar' %}
  {% set t_title = 'âœ… Ù†ØªÙŠØ¬Ø© QR Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ SMS' %}
  {% set t_h1 = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ QR Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ SMS!' %}
  {% set t_sub = 'Ø§Ù…Ø³Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ù„Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© SMS Ù…Ø¨Ø§Ø´Ø±Ø©.' %}
  {% set t_rec = 'Ø§Ù„Ù…Ø³ØªÙ„Ù…:' %}
  {% set t_msg = 'Ø§Ù„Ø±Ø³Ø§Ù„Ø©:' %}
  {% set t_open = 'ğŸ“± ÙØªØ­ SMS' %}
{% else %}
  {% set t_title = 'âœ… SMS-QR-Code Ergebnis' %}
  {% set t_h1 = 'âœ… SMS-QR-Code erstellt!' %}
  {% set t_sub = 'Scanne diesen Code, um direkt eine SMS zu senden.' %}
  {% set t_rec = 'EmpfÃ¤nger:' %}
  {% set t_msg = 'Nachricht:' %}
  {% set t_open = 'ğŸ“± SMS Ã¶ffnen' %}
{% endif %}
{% block title %}{{ t_title }}{% endblock %}

{% block content %}
<section class="qr-result">
  <h1>{{ t_h1 }}</h1>
  <p class="subtitle">{{ t_sub }}</p>

  <div class="qr-card">
    <img src="data:image/png;base64,{{ qr_image }}" alt="QR-Code" class="qr-preview">
    <p><strong>{{ t_rec }}</strong> {{ phone }}</p>
    {% if message %}
    <p><strong>{{ t_msg }}</strong> {{ message }}</p>
    {% endif %}
    <a href="sms:{{ phone }}?body={{ message|urlencode }}" class="btn-link">{{ t_open }}</a>
  </div>
</section>

<style>
.qr-result {
  max-width: 900px;
  margin: 3rem auto;
  background: #fff;
  padding: 2rem;
  border-radius: 20px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  text-align: center;
  font-family: "Inter", system-ui, sans-serif;
}
.qr-preview {
  max-width: 250px;
  border-radius: 12px;
  margin: 1rem 0;
}
.btn-link {
  display:inline-block;
  margin-top:1rem;
  padding:0.75rem 1.2rem;
  background:linear-gradient(135deg,#0D2A78,#1E40AF);
  color:white;
  text-decoration:none;
  border-radius:10px;
  font-weight:600;
}
.btn-link:hover {background:linear-gradient(135deg,#0B1742,#1E3A8A);}
</style>
{% endblock %}
