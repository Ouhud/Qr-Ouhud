{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set p_title = 'Forgot password | Ouhud QR' %}
  {% set p_h2 = 'ğŸ”‘ Forgot password?' %}
  {% set p_sub = 'Enter your registered email address. We will send reset instructions.' %}
  {% set p_email = 'ğŸ“§ Email address' %}
  {% set p_placeholder = 'name@example.com' %}
  {% set p_submit = 'â¡ï¸ Request link' %}
  {% set p_back = 'â¬… Back to login' %}
  {% set p_new = 'ğŸ“ Create new account' %}
{% elif lang == 'ar' %}
  {% set p_title = 'Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± | Ouhud QR' %}
  {% set p_h2 = 'ğŸ”‘ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ' %}
  {% set p_sub = 'Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ø³Ø¬Ù„ ÙˆØ³Ù†Ø±Ø³Ù„ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†.' %}
  {% set p_email = 'ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' %}
  {% set p_placeholder = 'name@example.com' %}
  {% set p_submit = 'â¡ï¸ Ø·Ù„Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·' %}
  {% set p_back = 'â¬… Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„' %}
  {% set p_new = 'ğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯' %}
{% else %}
  {% set p_title = 'Passwort vergessen | Ouhud QR' %}
  {% set p_h2 = 'ğŸ”‘ Passwort vergessen?' %}
  {% set p_sub = 'Gib deine registrierte E-Mail-Adresse ein. Wir senden dir Anweisungen zum ZurÃ¼cksetzen.' %}
  {% set p_email = 'ğŸ“§ E-Mail-Adresse' %}
  {% set p_placeholder = 'name@beispiel.de' %}
  {% set p_submit = 'â¡ï¸ Link anfordern' %}
  {% set p_back = 'â¬… ZurÃ¼ck zum Login' %}
  {% set p_new = 'ğŸ“ Neues Konto erstellen' %}
{% endif %}
{% block title %}{{ p_title }}{% endblock %}

{% block content %}
<section class="forgot-section">
  <div class="forgot-card">
    <img src="/static/logo.png" alt="Ouhud QR" class="forgot-logo">
    <h2>{{ p_h2 }}</h2>
    <p class="subtitle">{{ p_sub }}</p>

    {% if error %}
      <div class="error-msg">{{ error }}</div>
    {% endif %}

    <form method="post" action="/auth/forgot-password" class="forgot-form">
      <div class="form-group">
        <label for="email">{{ p_email }}</label>
        <input type="email" id="email" name="email" placeholder="{{ p_placeholder }}" required>
      </div>

      <button type="submit" class="forgot-button">{{ p_submit }}</button>
    </form>

    <div class="bottom-links">
      <a href="/auth/login" class="link-blue">{{ p_back }}</a>
      <span style="color:#cbd5e1;">|</span>
      <a href="/auth/register" class="link-green">{{ p_new }}</a>
    </div>
  </div>
</section>

<style>
.forgot-section { display:flex; justify-content:center; align-items:center; min-height:95vh; background:linear-gradient(135deg,#0D2A78,#1E44B5); font-family:"Inter",system-ui,sans-serif; }
.forgot-card { background:#fff; border-radius:20px; box-shadow:0 8px 28px rgba(0,0,0,0.08); padding:2.8rem 3rem; max-width:420px; width:100%; text-align:center; }
.forgot-logo { width:80px; height:auto; margin-bottom:1rem; }
h2 { font-size:1.6rem; font-weight:700; color:#0D2A78; margin-bottom:0.3rem; }
.subtitle { color:#64748B; font-size:0.95rem; margin-bottom:1.6rem; }
.forgot-form { display:flex; flex-direction:column; gap:1rem; text-align:left; }
.form-group label { font-weight:600; font-size:0.95rem; color:#334155; margin-bottom:0.3rem; display:block; }
.form-group input { width:100%; padding:0.75rem; border-radius:10px; border:1px solid #e2e8f0; font-size:0.95rem; transition:all 0.25s ease; }
.form-group input:focus { border-color:#2563EB; box-shadow:0 0 6px rgba(37,99,235,0.2); outline:none; }
.forgot-button { margin-top:1rem; background:linear-gradient(135deg,#0D2A78,#1E44B5); color:white; font-weight:600; border:none; border-radius:10px; padding:0.9rem; cursor:pointer; font-size:1rem; transition:all 0.25s ease-in-out; }
.forgot-button:hover { background:linear-gradient(135deg,#0B2163,#183D9B); }
.error-msg { color:#EF4444; background:#FFECEC; border-radius:10px; padding:0.7rem; font-size:0.9rem; margin-bottom:1.2rem; font-weight:500; text-align:center; }
.bottom-links { margin-top:1.8rem; font-size:0.95rem; color:#334155; }
.link-blue { color:#2563EB; text-decoration:none; font-weight:600; }
.link-blue:hover { text-decoration:underline; color:#1E40AF; }
.link-green { color:#0D2A78; text-decoration:none; font-weight:600; }
.link-green:hover { text-decoration:underline; }
@media (max-width:480px) { .forgot-card { padding:2rem 1.5rem; } h2 { font-size:1.4rem; } }
</style>
{% endblock %}
