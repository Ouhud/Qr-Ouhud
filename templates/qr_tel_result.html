{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set t_title = 'ğŸ“ QR code result â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… QR code created successfully!' %}
  {% set t_sub = 'Scan the code to call <strong>%s</strong> directly.' %}
  {% set t_dyn = 'Dynamic link:' %}
  {% set t_download = 'â¬‡ï¸ Download' %}
  {% set t_new = 'ğŸ”™ New code' %}
{% elif lang == 'ar' %}
  {% set t_title = 'ğŸ“ Ù†ØªÙŠØ¬Ø© Ø±Ù…Ø² QR â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² QR Ø¨Ù†Ø¬Ø§Ø­!' %}
  {% set t_sub = 'Ø§Ù…Ø³Ø­ Ø§Ù„Ø±Ù…Ø² Ù„Ù„Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ù€ <strong>%s</strong>.' %}
  {% set t_dyn = 'Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:' %}
  {% set t_download = 'â¬‡ï¸ ØªÙ†Ø²ÙŠÙ„' %}
  {% set t_new = 'ğŸ”™ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯' %}
{% else %}
  {% set t_title = 'ğŸ“ QR-Code Ergebnis â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… QR-Code erfolgreich erstellt!' %}
  {% set t_sub = 'Scanne den Code, um <strong>%s</strong> direkt anzurufen.' %}
  {% set t_dyn = 'Dynamischer Link:' %}
  {% set t_download = 'â¬‡ï¸ Herunterladen' %}
  {% set t_new = 'ğŸ”™ Neuen Code' %}
{% endif %}
{% block title %}{{ t_title }}{% endblock %}

{% block content %}
<section class="qr-style-section">
  <div class="container text-center">
    <div class="custom-design">
      <h2>{{ t_h1 }}</h2>
      <p class="subtitle">{{ t_sub|format(phone)|safe }}</p>

      <img src="data:image/png;base64,{{ qr_image }}" alt="Telefon-QR-Code" class="qr-preview">

      {% if dynamic_url %}
      <p class="subtitle">
        {{ t_dyn }} <a href="{{ dynamic_url }}" target="_blank">{{ dynamic_url }}</a>
      </p>
      {% endif %}

      <div class="action-buttons">
        <a href="data:image/png;base64,{{ qr_image }}" download="telefon_qr.png" class="btn primary">{{ t_download }}</a>
        <a href="/qr/tel/" class="btn secondary">{{ t_new }}</a>
      </div>
    </div>
  </div>
</section>

<style>
.qr-preview {
  width: 260px;
  height: 260px;
  margin: 2rem auto;
  display: block;
  border-radius: 1rem;
  box-shadow: 0 8px 25px rgba(13, 42, 120, 0.15);
}
</style>
{% endblock %}
