{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set t_title = 'âœ… URL QR code created â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… URL QR code created successfully!' %}
  {% set t_dyn = 'Dynamic link:' %}
  {% set t_target = 'Target URL:' %}
  {% set t_print = 'ğŸ–¨ï¸ Print' %}
  {% set t_download = 'â¬‡ï¸ Download' %}
  {% set t_new = 'â• Create new QR code' %}
  {% set t_edit = 'âœï¸ Edit' %}
{% elif lang == 'ar' %}
  {% set t_title = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ URL QR â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ URL QR Ø¨Ù†Ø¬Ø§Ø­!' %}
  {% set t_dyn = 'Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ:' %}
  {% set t_target = 'Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù:' %}
  {% set t_print = 'ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©' %}
  {% set t_download = 'â¬‡ï¸ ØªÙ†Ø²ÙŠÙ„' %}
  {% set t_new = 'â• Ø¥Ù†Ø´Ø§Ø¡ Ø±Ù…Ø² QR Ø¬Ø¯ÙŠØ¯' %}
  {% set t_edit = 'âœï¸ ØªØ¹Ø¯ÙŠÙ„' %}
{% else %}
  {% set t_title = 'âœ… URL-QR-Code erstellt â€“ Ouhud QR' %}
  {% set t_h1 = 'âœ… URL-QR-Code erfolgreich erstellt!' %}
  {% set t_dyn = 'Dynamischer Link:' %}
  {% set t_target = 'Ziel-URL:' %}
  {% set t_print = 'ğŸ–¨ï¸ Drucken' %}
  {% set t_download = 'â¬‡ï¸ Herunterladen' %}
  {% set t_new = 'â• Neuen QR-Code erstellen' %}
  {% set t_edit = 'âœï¸ Bearbeiten' %}
{% endif %}
{% block title %}{{ t_title }}{% endblock %}

{% block content %}
<section class="qr-generator url-generator" style="max-width:850px;margin:2rem auto;text-align:center;">
    <h1 style="color:var(--primary);font-size:2rem;font-weight:700;margin-bottom:1rem;">{{ t_h1 }}</h1>

    {% if qr and qr.image_path %}
    <div style="margin:2rem 0;">
        <img src="/{{ qr.image_path }}" alt="QR-Code" style="width:320px;height:320px;border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,.12);">
    </div>
    {% endif %}

    {% if dynamic_url %}
    <p style="font-size:1.1rem;color:#1e293b;margin-bottom:2rem;">
        ğŸ“ <strong>{{ t_dyn }}</strong><br>
        <a href="{{ dynamic_url }}" target="_blank" style="color:var(--accent);font-weight:600;">{{ dynamic_url }}</a>
    </p>
    {% endif %}

    {% if target_url %}
    <p style="font-size:1rem;color:#64748b;margin-bottom:2rem;">
        ğŸ”— <strong>{{ t_target }}</strong><br>
        <a href="{{ target_url }}" target="_blank" style="color:var(--accent);font-weight:500;">{{ target_url }}</a>
    </p>
    {% endif %}

    <div style="display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin-top:2rem;">
        <button onclick="window.print()" class="btn secondary" style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">{{ t_print }}</button>
        {% if qr and qr.image_path %}
        <a href="/{{ qr.image_path }}" download class="btn primary" style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">{{ t_download }}</a>
        {% endif %}

        <a href="/qr/url/" class="btn" style="background:#e2e8f0;padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;color:#1e293b;">{{ t_new }}</a>

        {% if qr %}
        <a href="/qr/edit/{{ qr.slug }}" class="btn secondary" style="padding:0.85rem 1.4rem;border-radius:12px;font-size:1rem;">{{ t_edit }}</a>
        {% endif %}
    </div>
</section>
{% endblock %}
