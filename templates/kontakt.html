{% extends "base.html" %}
{% set lang = request.state.lang if request and request.state else 'de' %}
{% if lang == 'en' %}
  {% set title = 'Contact â€“ Ouhud QR' %}
  {% set h1 = 'ğŸ“¬ Contact form' %}
  {% set topic_enterprise = 'Enterprise inquiry: we will reply with a custom offer.' %}
  {% set topic_api = 'API access request: please describe your use case briefly.' %}
  {% set topic_default = 'We look forward to your message.' %}
  {% set ok = 'âœ… Thank you! Your message has been sent successfully.' %}
  {% set name = 'Name *' %}
  {% set email = 'Email *' %}
  {% set subject = 'Subject' %}
  {% set message = 'Message *' %}
  {% set send = 'Send message' %}
  {% set p_name = 'Your name' %}
  {% set p_email = 'Your email address' %}
  {% set p_subject = 'e.g. Question about Ouhud QR' %}
  {% set p_msg = 'Your message...' %}
  {% set alt = 'ğŸ“§ You can also reach us directly at' %}
{% elif lang == 'ar' %}
  {% set title = 'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ â€“ Ouhud QR' %}
  {% set h1 = 'ğŸ“¬ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„' %}
  {% set topic_enterprise = 'Ø·Ù„Ø¨ Enterprise: Ø³Ù†Ø±Ø³Ù„ Ø¹Ø±Ø¶Ù‹Ø§ Ù…Ø®ØµØµÙ‹Ø§.' %}
  {% set topic_api = 'Ø·Ù„Ø¨ ÙˆØµÙˆÙ„ API: ÙŠØ±Ø¬Ù‰ ÙˆØµÙ Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø§Ø®ØªØµØ§Ø±.' %}
  {% set topic_default = 'ÙŠØ³Ø¹Ø¯Ù†Ø§ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ.' %}
  {% set ok = 'âœ… Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­.' %}
  {% set name = 'Ø§Ù„Ø§Ø³Ù… *' %}
  {% set email = 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *' %}
  {% set subject = 'Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹' %}
  {% set message = 'Ø§Ù„Ø±Ø³Ø§Ù„Ø© *' %}
  {% set send = 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©' %}
  {% set p_name = 'Ø§Ø³Ù…Ùƒ' %}
  {% set p_email = 'Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' %}
  {% set p_subject = 'Ù…Ø«Ø§Ù„: Ø§Ø³ØªÙØ³Ø§Ø± Ø­ÙˆÙ„ Ouhud QR' %}
  {% set p_msg = 'Ø±Ø³Ø§Ù„ØªÙƒ...' %}
  {% set alt = 'ğŸ“§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø±' %}
{% else %}
  {% set title = 'Kontakt â€“ Ouhud QR' %}
  {% set h1 = 'ğŸ“¬ Kontaktformular' %}
  {% set topic_enterprise = 'Enterprise-Anfrage: wir melden uns mit einem individuellen Angebot.' %}
  {% set topic_api = 'API-Zugang anfragen: bitte kurz den Use-Case beschreiben.' %}
  {% set topic_default = 'Wir freuen uns Ã¼ber Ihre Nachricht.' %}
  {% set ok = 'âœ… Vielen Dank! Ihre Nachricht wurde erfolgreich gesendet.' %}
  {% set name = 'Name *' %}
  {% set email = 'E-Mail *' %}
  {% set subject = 'Betreff' %}
  {% set message = 'Nachricht *' %}
  {% set send = 'Nachricht senden' %}
  {% set p_name = 'Ihr Name' %}
  {% set p_email = 'Ihre E-Mail-Adresse' %}
  {% set p_subject = 'z. B. Anfrage zu Ouhud QR' %}
  {% set p_msg = 'Ihre Nachricht...' %}
  {% set alt = 'ğŸ“§ Alternativ erreichen Sie uns direkt unter' %}
{% endif %}

{% block content %}
<main style="max-width:600px;margin:2rem auto;background:#fff;border-radius:12px;padding:2rem;box-shadow:0 4px 12px rgba(0,0,0,0.06);font-family:system-ui,-apple-system,sans-serif;">
  <h1 style="color:#4f46e5;text-align:center;">{{ h1 }}</h1>
  <p style="text-align:center;color:#555;">
    {% if contact_topic == "enterprise" %}
      {{ topic_enterprise }}
    {% elif contact_topic == "api-access" %}
      {{ topic_api }}
    {% else %}
      {{ topic_default }}
    {% endif %}
  </p>

  {% if success %}
    <div style="background:#ecfdf5;color:#065f46;padding:12px 16px;border-radius:8px;margin:1rem 0;text-align:center;font-weight:500;">{{ ok }}</div>
  {% elif error %}
    <div style="background:#fef2f2;color:#b91c1c;padding:12px 16px;border-radius:8px;margin:1rem 0;text-align:center;font-weight:500;">âš ï¸ {{ error }}</div>
  {% endif %}

  <form method="post" action="/contact" style="display:flex;flex-direction:column;gap:1.2rem;margin-top:1rem;">
    <div>
      <label for="name" style="font-weight:500;">{{ name }}</label><br>
      <input type="text" id="name" name="name" required placeholder="{{ p_name }}" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;">
    </div>

    <div>
      <label for="email" style="font-weight:500;">{{ email }}</label><br>
      <input type="email" id="email" name="email" required placeholder="{{ p_email }}" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;">
    </div>

    <div>
      <label for="subject" style="font-weight:500;">{{ subject }}</label><br>
      <input type="text" id="subject" name="subject" placeholder="{{ p_subject }}" value="{{ prefill_subject | default('') }}" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;">
    </div>

    <div>
      <label for="message" style="font-weight:500;">{{ message }}</label><br>
      <textarea id="message" name="message" required placeholder="{{ p_msg }}" style="width:100%;height:150px;padding:10px 12px;border:1px solid #ddd;border-radius:8px;resize:vertical;">{{ prefill_message | default('') }}</textarea>
    </div>

    <button type="submit" style="background:#4f46e5;color:white;padding:12px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:background 0.2s;">{{ send }}</button>
  </form>

  <p style="margin-top:1.5rem;font-size:0.9rem;color:#888;text-align:center;">{{ alt }}
    <a href="mailto:contact@ouhud.com" style="color:#4f46e5;text-decoration:none;">contact@ouhud.com</a>
  </p>
</main>
{% endblock %}
